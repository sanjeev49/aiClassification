schema: '2.0'
stages:
  prepare_data:
    cmd: python src/stage_01_load_prepare_data.py
    deps:
    - path: data/labels.txt
      md5: c5b36d9e592fb046f1a266c2191d0995
      size: 21697
    - path: data/photos
      md5: 87dfef5aecdde52336259e622239d1e7.dir
      size: 149084838
      nfiles: 972
    - path: src/stage_01_load_prepare_data.py
      md5: 522520aaec35b52704ad9680c38a7f3f
      size: 3219
    outs:
    - path: artifacts/prepared/cleaned.csv
      md5: 94bdacad6773c5bf0e19c7aaeb11aac6
      size: 16524
    - path: artifacts/prepared/csv_with_nan.csv
      md5: a1791479078c27c77b8914798f43e5ef
      size: 9112
  convert_data:
    cmd: python src/stage_02_convert_data.py
    deps:
    - path: artifacts/prepared/cleaned.csv
      md5: 94bdacad6773c5bf0e19c7aaeb11aac6
      size: 16524
    - path: data/photos
      md5: 87dfef5aecdde52336259e622239d1e7.dir
      size: 149084838
      nfiles: 972
    - path: src/stage_02_convert_data.py
      md5: 330688cb3e930329f8845ae0913ce7ad
      size: 2798
    outs:
    - path: artifacts/training_data/x_data.npy
      md5: 6056462c3f26c503de36015168aeabfb
      size: 585252992
    - path: artifacts/training_data/y_data.npy
      md5: 099dd2f1c4a12b67f1f9dd0af183f83f
      size: 31232
  train_model:
    cmd: python src/stage_03_training.py
    deps:
    - path: artifacts/training_data/x_data.npy
      md5: 6056462c3f26c503de36015168aeabfb
      size: 585252992
    - path: artifacts/training_data/y_data.npy
      md5: 099dd2f1c4a12b67f1f9dd0af183f83f
      size: 31232
    - path: src/stage_03_training.py
      md5: 66aeea0d20f82a955004e0926aca6215
      size: 4351
    outs:
    - path: artifacts/model/resnet_50.h5
      md5: 9ab735298e7b1855f10e3ddaabba5021
      size: 94806448
