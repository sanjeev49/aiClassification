schema: '2.0'
stages:
  prepare_data:
    cmd: python src/stage_01_prepare_data.py
    deps:
    - path: Multilabel/labels.txt
      md5: c5b36d9e592fb046f1a266c2191d0995
      size: 21697
    - path: Multilabel/photos
      md5: 87dfef5aecdde52336259e622239d1e7.dir
      size: 149084838
      nfiles: 972
    - path: src/stage_01_prepare_data.py
      md5: ec51bfb2e6c79c7bc57caf958190627e
      size: 2519
    outs:
    - path: artifacts/prepared/cleaned.csv
      md5: 94bdacad6773c5bf0e19c7aaeb11aac6
      size: 16524
    - path: artifacts/prepared/csv_with_nan.csv
      md5: a1791479078c27c77b8914798f43e5ef
      size: 9112
  convert_data:
    cmd: python src/stage_02_convert_data.py
    deps:
    - path: Multilabel/photos
      md5: 87dfef5aecdde52336259e622239d1e7.dir
      size: 149084838
      nfiles: 972
    - path: artifacts/prepared/cleaned.csv
      md5: 94bdacad6773c5bf0e19c7aaeb11aac6
      size: 16524
    - path: src/stage_02_convert_data.py
      md5: 2200c7d535560ea15bbbeea7dca71369
      size: 3017
    outs:
    - path: artifacts//training_data/y_data.npy
      md5: 099dd2f1c4a12b67f1f9dd0af183f83f
      size: 31232
    - path: artifacts/training_data/x_data.npy
      md5: 6056462c3f26c503de36015168aeabfb
      size: 585252992
  train_model:
    cmd: python src/stage_03_training.py
    deps:
    - path: artifacts/training_data/x_data.npy
      md5: 6056462c3f26c503de36015168aeabfb
      size: 585252992
    - path: artifacts/training_data/y_data.npy
      md5: 099dd2f1c4a12b67f1f9dd0af183f83f
      size: 31232
    - path: src/stage_03_training.py
      md5: 3a74cfa511a0aaab7ab08856fef7acc9
      size: 3804
    outs:
    - path: artifacts/model/resnet_50.h5
      md5: 2b99af5f6693a156883c84b616ec2ee3
      size: 94806448
